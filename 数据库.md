# 数据库分库分表


## MyBatis需要有什么改造


# 有一张表，字段是name，sex，age，业务中存在对这三个字段的查询，怎么建索引？
> sex只有两种情况，age范围在100以内，name的区分度最大，所以可以建联合索引 (name, age, sex)。

# 有一张表，主键id有1，2，3，6。两个线程同时做update和insert操作时候会出现死锁，为什么？
> 间隙锁。

